<!-- Student List Section -->
<div class="w-75 mx-auto mt-5 bg-light p-4 rounded">
  <br />

  <!-- Heading and Add Student Button -->
  <div class="row">
    <div class="col-6">
      <h1 class="text-primary">All Students</h1>
    </div>

    <div class="col-6 d-flex justify-content-end">
      <a
        href="/students/create"
        type="button"
        class="btn btn-primary align-self-center"
        >+ Add Student</a
      >
    </div>
  </div>

  <!-- Check if Students Exist -->
  <% if(students.length > 0) { %>
    <!-- Student Table -->
    <div class="mt-3 mb-3">
      <table class="table table-bordered">
        <!-- Table Header -->
        <thead class="thead-dark">
          <tr>
            <th scope="col">Batch</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Contact</th>
            <th scope="col">DSA</th>
            <th scope="col">WEB</th>
            <th scope="col">REACT</th>
            <th scope="col">Interview</th>
            <th scope="col" class="text-end">Action</th>
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody id="myTable">
          <!-- Iterate Through Students -->
          <% for(let student of students) { %>
            <!-- Table Row for Each Student -->
            <tr>
              <th scope="row"><%= student.batch %></th>
              <td><%= student.name %></td>
              <td><%= student.email %></td>
              <td><%= student.contactNumber %></td>
              <td><%= student.dsa %></td>
              <td><%= student.webd %></td>
              <td><%= student.react %></td>

              <!-- Check if Student has Interviews -->
              <% if(student.interviews.length) { %>
                <!-- Display Company Names for Interviews -->
                <td>
                  <% for(let company of student.interviews) { %>
                    <a href=" " class="text-primary" id="compnay_name"><%= company.company %></a>
                  <% } %>
                </td>
              <% } else { %>
                <!-- Display NONE if No Interviews -->
                <td class="text-muted">NONE</td>
              <% } %>

              <!-- Action Buttons (Delete) -->
              <td
                style="
                  display: flex;
                  justify-content: space-around;
                  align-items: center;
                "
              >
                <a
                  href="/students/delete/<%= student._id %>"
                  type="button"
                  class="btn btn-danger btn-small"
                  >Delete</a
                >
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  <% } else { %>
    <!-- No Records Found Message -->
    <div class="w-75 mx-auto mt-5">
      <h2 class="text-muted">No Records Found</h2>
    </div>
  <% } %>
</div>
